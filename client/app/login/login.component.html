<form fxLayout="column" fxFlexFill>

    <perfect-scrollbar fxFlexAlign="center center">

        <div class="login padding-v centered-content" fxFlex fxLayout="column" fxLayoutAlign="center center">

            <div fxLayout="column" fxLayoutGap="15px">
                <img src="assets/images/logo-bleu.svg" class="dilps-logo" />

                <mat-divider></mat-divider>

                <div fxLayout="column" fxLayoutGap="15px" class="login-info">
                    Veuillez choisir une méthode d'authentification ou<br>
                    utiliser le bouton "Accès public"
                </div>

                <mat-grid-list cols="2" rowHeight="80px">
                    <mat-grid-tile>
                        <a mat-raised-button href="https://{{ shibbolethEndpoint }}/Shibboleth.sso/Login?target=https%3A%2F%2F{{ shibbolethEndpoint }}%2Fauth&entityID=https%3A%2F%2Faai.unil.ch%2Fidp%2Fshibboleth" class="shib-link">
                            <img src="assets/images/logo-unil-bleu.svg" width="130" />
                        </a>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <a mat-raised-button href="https://{{ shibbolethEndpoint }}/Shibboleth.sso/Login?target=https%3A%2F%2F{{ shibbolethEndpoint }}%2Fauth&entityID=https%3A%2F%2Faai-login.unine.ch%2Fidp%2Fshibboleth" class="shib-link">
                            <img src="assets/images/logo-unine.svg" width="90" />
                        </a>
                    </mat-grid-tile>
                </mat-grid-list>

                <mat-divider></mat-divider>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            Utilisateur externe
                        </mat-panel-title>
                    </mat-expansion-panel-header>

                    <div fxLayout="column" fxLayoutGap="10px">
                        <mat-form-field class="width-auto">
                            <input matInput
                                   autofocus
                                   name="login"
                                   [(ngModel)]="loginForm.login"
                                   placeholder="login"
                                   required="required"
                                   [disabled]="loading"
                                   (focus)="snackBar.dismiss()"
                            >
                        </mat-form-field>
                    </div>

                    <div fxLayout="column" fxLayoutGap="10px">
                        <mat-form-field class="width-auto">
                            <input matInput
                                   type="password"
                                   name="password"
                                   color="warn"
                                   [(ngModel)]="loginForm.password"
                                   placeholder="password"
                                   required="required"
                                   [disabled]="loading"
                                   (focus)="snackBar.dismiss()"
                            >
                        </mat-form-field>
                    </div>

                    <div fxLayout="column" fxLayoutGap="10px">
                        <button type="submit"
                                mat-button
                                mat-raised-button
                                color="primary"
                                (click)="login()"
                                [disabled]="loading || !loginForm.login || !loginForm.password"
                        >Se connecter</button>
                    </div>
                </mat-expansion-panel>

                <mat-divider></mat-divider>

                <a mat-raised-button (click)="userService.startTempAccess()">Accès public</a>
            </div>
        </div>

    </perfect-scrollbar>

</form>
